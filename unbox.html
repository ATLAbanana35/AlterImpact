<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>CodePen - GIFT BOX OPEN ANIMATION</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <!-- partial:index.partial.html -->
    <div class="container">
      <div class="row">
        <div class="col-12">
          <h3 class="text-center text-light my-5">
            <strong>Hover the box</strong>
          </h3>
        </div>
        <div class="col-12 mt-5 d-flex justify-content-center">
          <div class="box">
            <div class="box-body">
              <img
                class="img"
                src="https://via.placeholder.com/150"
                width="100"
              />
              <h1 class="nbr">0</h1>
              <script>
                var parts = window.location.search.substr(1).split("&");
                var $_GET = {};
                for (var i = 0; i < parts.length; i++) {
                  var temp = parts[i].split("=");
                  $_GET[decodeURIComponent(temp[0])] = decodeURIComponent(
                    temp[1]
                  );
                }
                if ($_GET["t"] === "piece") {
                  document.querySelector(".img").src = "./piece.png";
                }
                if ($_GET["t"] === "trophee") {
                  document.querySelector(".img").src = "./trophee.png";
                }
                if ($_GET["t"].startsWith("H//")) {
                  document.querySelector(".img").src =
                    "./assets/hero_" + $_GET["t"].split("H//")[1] + ".jpg";
                }
                document
                  .querySelector(".box-body")
                  .addEventListener("mouseover", () => {
                    setTimeout(() => {
                      location = "./home.html";
                    }, 3000);
                    if ($_GET["n"]) {
                      let i = 0;
                      const s = setInterval(() => {
                        i++;
                        if (i - 1 >= parseInt($_GET["n"])) {
                          clearInterval(s);
                        } else {
                          document.querySelector(".nbr").textContent = i;
                        }
                      }, 1);
                    }
                  });
                document
                  .querySelector(".box-body")
                  .addEventListener("touchstart", () => {
                    setTimeout(() => {
                      location = "./home.html";
                    }, 3000);
                    if ($_GET["n"]) {
                      let i = 0;
                      const s = setInterval(() => {
                        i++;
                        if (i - 1 >= parseInt($_GET["n"])) {
                          clearInterval(s);
                        } else {
                          document.querySelector(".nbr").textContent = i;
                        }
                      }, 1);
                    }
                  });
              </script>
              <div class="box-lid">
                <div class="box-bowtie"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- partial -->
  </body>
</html>
